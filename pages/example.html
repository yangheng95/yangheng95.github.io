<!DOCTYPE html>
<html lang="en">

<body>
<div id="header"></div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    fetch('pages/header.html')  // Replace 'partials/' with the correct path to your header file
      .then(response => response.text())
      .then(data => {
        document.getElementById('header').innerHTML = data;
      })
      .catch(error => console.error('Error loading header:', error));
  });
</script>

<!-- Tabs Navigation -->
<div class="tabs">
    <button class="tablink active" onclick="openTab(event, 'about')">About Me</button>
    <button class="tablink" onclick="openTab(event, 'blogs')">Blogs</button>
    <button class="tablink" onclick="openTab(event, 'projects')">Projects</button>
</div>

<!-- Tab Content Placeholders -->
<div id="about" class="tab-content">
    <!-- Content will be loaded here -->
</div>

<div id="blogs" class="tab-content">
    <!-- Content will be loaded here -->
</div>

<div id="projects" class="tab-content">
    <!-- Content will be loaded here -->
</div>



<section class="section">
    <div class="container">
        <h1 class="title"><i class="fas fa-comment"></i> Comments</h1>
        <hr/>
        <div id="utterances-comments"></div>
    </div>

    <script src="https://utteranc.es/client.js"
            repo="yangheng95/yangheng95.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
</section>

<script src="js/bundle.js"></script>

<!-- Footer container where footer.html will be loaded -->
  <div id="footer"></div>

  <script>
    // JavaScript to load footer.html into the placeholder div
    document.addEventListener("DOMContentLoaded", function() {
      fetch('pages/' + 'footer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('footer').innerHTML = data;
        })
        .catch(error => {
          console.error('Error loading footer:', error);
        });
    });
  </script>


<!-- JavaScript to Handle Tab Functionality -->
<script>
    // Object to keep track of loaded tab content
    var tabContentLoaded = {};

    function openTab(evt, tabName) {
        var i, tabcontent, tablinks;

        // Hide all tab contents
        tabcontent = document.getElementsByClassName("tab-content");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        // Remove active class from all tab links
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].classList.remove("active");
        }

        // Show the current tab content
        document.getElementById(tabName).style.display = "block";

        // Add active class to the clicked tab link
        evt.currentTarget.classList.add("active");

        // Load content if not already loaded
        if (!tabContentLoaded[tabName]) {
            fetch('pages/' + tabName + '.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById(tabName).innerHTML = html;
                    tabContentLoaded[tabName] = true;
                })
                .catch(error => {
                    console.error('Error loading content:', error);
                    document.getElementById(tabName).innerHTML = "<p>Content could not be loaded.</p>";
                });
        }
    }

    // Load the default tab content on page load
    window.onload = function() {
        // Simulate a click on the default active tab
        document.querySelector('.tablink.active').click();
    }
</script>

</body>
</html>
